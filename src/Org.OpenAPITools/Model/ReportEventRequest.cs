// <auto-generated>
/*
 * Rise.ai API Documentation
 *
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: 2.0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Org.OpenAPITools.Client;

namespace Org.OpenAPITools.Model
{
    /// <summary>
    /// ReportEventRequest
    /// </summary>
    public partial class ReportEventRequest : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="ReportEventRequest" /> class.
        /// </summary>
        /// <param name="triggerKey">Trigger key as defined in your app&#39;s trigger configuration. For example, &#x60;order_returned&#x60; or &#x60;order_paid&#x60;..</param>
        /// <param name="payload">Event payload, formatted as key:value pairs. Must comply with the payload schema if you provided one when configuring your trigger.  Key names can include only alphanumeric characters or underscores (&#x60;A-Z&#x60;, &#x60;a-z&#x60;, &#x60;0-9&#x60;, &#x60;_&#x60;). They cannot start with an underscore.  Values can be strings, numbers, integers, booleans, or arrays. If a value is an array, the array items must be objects, and nested object properties must be strings, numbers, integers, or booleans only.</param>
        /// <param name="externalEntityId">ID of the related resource in GUID format. For example, &#x60;fc81a355-3429-50fc-a4c7-def486e828f3&#x60;.  Required if your app needs to [cancel the event](https://dev.wix.com/docs/rest/business-management/automations/triggered-events/cancel-event) if the automation becomes no longer relevant.  Typically, this ID is defined in your system, but you can also use any resource GUID, such as contact ID, member ID, or invoice ID. See [Choose the right &#x60;externalEntityId&#x60;](https://dev.wix.com/docs/rest/business-management/automations/triggered-events/reporting-and-canceling-events#about-canceling-events) for more information.</param>
        /// <param name="idempotency">Idempotency information for the event.</param>
        [JsonConstructor]
        public ReportEventRequest(Option<string?> triggerKey = default, Option<Object?> payload = default, Option<string?> externalEntityId = default, Option<Object?> idempotency = default)
        {
            TriggerKeyOption = triggerKey;
            PayloadOption = payload;
            ExternalEntityIdOption = externalEntityId;
            IdempotencyOption = idempotency;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// Used to track the state of TriggerKey
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> TriggerKeyOption { get; private set; }

        /// <summary>
        /// Trigger key as defined in your app&#39;s trigger configuration. For example, &#x60;order_returned&#x60; or &#x60;order_paid&#x60;..
        /// </summary>
        /// <value>Trigger key as defined in your app&#39;s trigger configuration. For example, &#x60;order_returned&#x60; or &#x60;order_paid&#x60;..</value>
        [JsonPropertyName("triggerKey")]
        public string? TriggerKey { get { return this.TriggerKeyOption; } set { this.TriggerKeyOption = new(value); } }

        /// <summary>
        /// Used to track the state of Payload
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Object?> PayloadOption { get; private set; }

        /// <summary>
        /// Event payload, formatted as key:value pairs. Must comply with the payload schema if you provided one when configuring your trigger.  Key names can include only alphanumeric characters or underscores (&#x60;A-Z&#x60;, &#x60;a-z&#x60;, &#x60;0-9&#x60;, &#x60;_&#x60;). They cannot start with an underscore.  Values can be strings, numbers, integers, booleans, or arrays. If a value is an array, the array items must be objects, and nested object properties must be strings, numbers, integers, or booleans only.
        /// </summary>
        /// <value>Event payload, formatted as key:value pairs. Must comply with the payload schema if you provided one when configuring your trigger.  Key names can include only alphanumeric characters or underscores (&#x60;A-Z&#x60;, &#x60;a-z&#x60;, &#x60;0-9&#x60;, &#x60;_&#x60;). They cannot start with an underscore.  Values can be strings, numbers, integers, booleans, or arrays. If a value is an array, the array items must be objects, and nested object properties must be strings, numbers, integers, or booleans only.</value>
        [JsonPropertyName("payload")]
        public Object? Payload { get { return this.PayloadOption; } set { this.PayloadOption = new(value); } }

        /// <summary>
        /// Used to track the state of ExternalEntityId
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> ExternalEntityIdOption { get; private set; }

        /// <summary>
        /// ID of the related resource in GUID format. For example, &#x60;fc81a355-3429-50fc-a4c7-def486e828f3&#x60;.  Required if your app needs to [cancel the event](https://dev.wix.com/docs/rest/business-management/automations/triggered-events/cancel-event) if the automation becomes no longer relevant.  Typically, this ID is defined in your system, but you can also use any resource GUID, such as contact ID, member ID, or invoice ID. See [Choose the right &#x60;externalEntityId&#x60;](https://dev.wix.com/docs/rest/business-management/automations/triggered-events/reporting-and-canceling-events#about-canceling-events) for more information.
        /// </summary>
        /// <value>ID of the related resource in GUID format. For example, &#x60;fc81a355-3429-50fc-a4c7-def486e828f3&#x60;.  Required if your app needs to [cancel the event](https://dev.wix.com/docs/rest/business-management/automations/triggered-events/cancel-event) if the automation becomes no longer relevant.  Typically, this ID is defined in your system, but you can also use any resource GUID, such as contact ID, member ID, or invoice ID. See [Choose the right &#x60;externalEntityId&#x60;](https://dev.wix.com/docs/rest/business-management/automations/triggered-events/reporting-and-canceling-events#about-canceling-events) for more information.</value>
        [JsonPropertyName("externalEntityId")]
        public string? ExternalEntityId { get { return this.ExternalEntityIdOption; } set { this.ExternalEntityIdOption = new(value); } }

        /// <summary>
        /// Used to track the state of Idempotency
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<Object?> IdempotencyOption { get; private set; }

        /// <summary>
        /// Idempotency information for the event.
        /// </summary>
        /// <value>Idempotency information for the event.</value>
        [JsonPropertyName("idempotency")]
        public Object? Idempotency { get { return this.IdempotencyOption; } set { this.IdempotencyOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class ReportEventRequest {\n");
            sb.Append("  TriggerKey: ").Append(TriggerKey).Append("\n");
            sb.Append("  Payload: ").Append(Payload).Append("\n");
            sb.Append("  ExternalEntityId: ").Append(ExternalEntityId).Append("\n");
            sb.Append("  Idempotency: ").Append(Idempotency).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            // TriggerKey (string) maxLength
            if (this.TriggerKey != null && this.TriggerKey.Length > 100)
            {
                yield return new ValidationResult("Invalid value for TriggerKey, length must be less than 100.", new [] { "TriggerKey" });
            }

            // TriggerKey (string) minLength
            if (this.TriggerKey != null && this.TriggerKey.Length < 1)
            {
                yield return new ValidationResult("Invalid value for TriggerKey, length must be greater than 1.", new [] { "TriggerKey" });
            }

            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="ReportEventRequest" />
    /// </summary>
    public class ReportEventRequestJsonConverter : JsonConverter<ReportEventRequest>
    {
        /// <summary>
        /// Deserializes json to <see cref="ReportEventRequest" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override ReportEventRequest Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> triggerKey = default;
            Option<Object?> payload = default;
            Option<string?> externalEntityId = default;
            Option<Object?> idempotency = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "triggerKey":
                            triggerKey = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "payload":
                            payload = new Option<Object?>(JsonSerializer.Deserialize<Object>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "externalEntityId":
                            externalEntityId = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "idempotency":
                            idempotency = new Option<Object?>(JsonSerializer.Deserialize<Object>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        default:
                            break;
                    }
                }
            }

            if (triggerKey.IsSet && triggerKey.Value == null)
                throw new ArgumentNullException(nameof(triggerKey), "Property is not nullable for class ReportEventRequest.");

            if (payload.IsSet && payload.Value == null)
                throw new ArgumentNullException(nameof(payload), "Property is not nullable for class ReportEventRequest.");

            if (externalEntityId.IsSet && externalEntityId.Value == null)
                throw new ArgumentNullException(nameof(externalEntityId), "Property is not nullable for class ReportEventRequest.");

            if (idempotency.IsSet && idempotency.Value == null)
                throw new ArgumentNullException(nameof(idempotency), "Property is not nullable for class ReportEventRequest.");

            return new ReportEventRequest(triggerKey, payload, externalEntityId, idempotency);
        }

        /// <summary>
        /// Serializes a <see cref="ReportEventRequest" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="reportEventRequest"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, ReportEventRequest reportEventRequest, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, reportEventRequest, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="ReportEventRequest" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="reportEventRequest"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, ReportEventRequest reportEventRequest, JsonSerializerOptions jsonSerializerOptions)
        {
            if (reportEventRequest.TriggerKeyOption.IsSet && reportEventRequest.TriggerKey == null)
                throw new ArgumentNullException(nameof(reportEventRequest.TriggerKey), "Property is required for class ReportEventRequest.");

            if (reportEventRequest.PayloadOption.IsSet && reportEventRequest.Payload == null)
                throw new ArgumentNullException(nameof(reportEventRequest.Payload), "Property is required for class ReportEventRequest.");

            if (reportEventRequest.ExternalEntityIdOption.IsSet && reportEventRequest.ExternalEntityId == null)
                throw new ArgumentNullException(nameof(reportEventRequest.ExternalEntityId), "Property is required for class ReportEventRequest.");

            if (reportEventRequest.IdempotencyOption.IsSet && reportEventRequest.Idempotency == null)
                throw new ArgumentNullException(nameof(reportEventRequest.Idempotency), "Property is required for class ReportEventRequest.");

            if (reportEventRequest.TriggerKeyOption.IsSet)
                writer.WriteString("triggerKey", reportEventRequest.TriggerKey);

            if (reportEventRequest.PayloadOption.IsSet)
            {
                writer.WritePropertyName("payload");
                JsonSerializer.Serialize(writer, reportEventRequest.Payload, jsonSerializerOptions);
            }
            if (reportEventRequest.ExternalEntityIdOption.IsSet)
                writer.WriteString("externalEntityId", reportEventRequest.ExternalEntityId);

            if (reportEventRequest.IdempotencyOption.IsSet)
            {
                writer.WritePropertyName("idempotency");
                JsonSerializer.Serialize(writer, reportEventRequest.Idempotency, jsonSerializerOptions);
            }
        }
    }
}
